<html><head><link rel="import" href="../bower_components/polymerfire/polymerfire.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../bower_components/app-layout/app-scroll-effects/effects/waterfall.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="shop-icons.html"><link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="import" href="shop-button.html"><link rel="import" href="shop-common-styles.html"><link rel="import" href="shop-image.html"><link rel="import" href="shop-select.html"><link rel="import" href="shop-tabs.html"><link rel="import" href="shop-tab.html"><link rel="import" href="../bower_components/paper-input/paper-input.html"><link rel="import" href="../bower_components/paper-fab/paper-fab.html"><link rel="import" href="../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html"><link rel="import" href="../bower_components/polymerfire/firebase-auth.html"><link rel="import" href="../bower_components/polymerfire/firebase-document.html"><link rel="import" href="../bower_components/polymerfire/firebase-query.html"><link rel="import" href="shop-form-styles.html"><link rel="import" href="shop-input.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-app.html"><link rel="prefetch" href="../bower_components/polymer/polymer.html"><link rel="prefetch" href="../bower_components/polymer/polymer-mini.html"><link rel="prefetch" href="../bower_components/polymer/polymer-micro.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-app-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-app.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-common-behavior.html"><link rel="prefetch" href="../bower_components/app-storage/app-network-status-behavior.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-auth-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-auth.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-database-behavior.html"><link rel="prefetch" href="../bower_components/app-storage/app-storage-behavior.html"><link rel="prefetch" href="../bower_components/promise-polyfill/promise-polyfill.html"><link rel="prefetch" href="../bower_components/promise-polyfill/promise-polyfill-lite.html"><link rel="prefetch" href="../bower_components/promise-polyfill/Promise.js"><link rel="prefetch" href="../bower_components/promise-polyfill/Promise-Statics.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-database-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-database.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-messaging.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-messaging-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-messaging.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-storage-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-storage.js"><link rel="prefetch" href="../bower_components/iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects-behavior.html"><link rel="prefetch" href="../bower_components/iron-scroll-target-behavior/iron-scroll-target-behavior.html"><link rel="prefetch" href="../bower_components/app-layout/helpers/helpers.html"><link rel="prefetch" href="../bower_components/iron-icon/iron-icon.html"><link rel="prefetch" href="../bower_components/iron-meta/iron-meta.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../bower_components/iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../bower_components/iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../bower_components/paper-ripple/paper-ripple.html"><link rel="prefetch" href="../bower_components/paper-styles/default-theme.html"><link rel="prefetch" href="../bower_components/paper-styles/color.html"><link rel="prefetch" href="../bower_components/iron-icons/iron-icons.html"><link rel="prefetch" href="../bower_components/iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../bower_components/iron-selector/iron-selectable.html"><link rel="prefetch" href="../bower_components/iron-selector/iron-selection.html"><link rel="prefetch" href="shop-tabs-overlay.html"><link rel="prefetch" href="shop-ripple-container.html"><link rel="prefetch" href="../bower_components/iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../bower_components/iron-input/iron-input.html"><link rel="prefetch" href="../bower_components/iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../bower_components/iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-behavior.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../bower_components/paper-styles/typography.html"><link rel="prefetch" href="../bower_components/font-roboto/roboto.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-container.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-error.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../bower_components/paper-material/paper-material-shared-styles.html"><link rel="prefetch" href="../bower_components/paper-styles/shadow.html"><link rel="prefetch" href="../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror-client.html"><link rel="prefetch" href="../bower_components/app-storage/app-indexeddb-mirror/common-worker.html"></head><body><dom-module id="shop-detail"><template><style include="shop-common-styles shop-button shop-form-styles shop-input shop-select">:host{display:block;}#content{@apply (--layout-horizontal);}shop-image{position:relative;margin:64px 32px;width:30%;max-width:400px;--shop-image-img:{@apply (--layout-fit);border-radius:50%;width:320px;};}paper-icon-button{color:var(--app-primary-color);}.logo{text-align:center;}.logo a{font-size:20px;font-weight:600;letter-spacing:0.3em;color:var(--app-white-color);text-decoration:none;display:inline-block;pointer-events:auto;}.left-bar-item{width:40px;}app-header{@apply (--layout-fixed-top);z-index:1;background-color:#1976D2;--app-header-shadow:{box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.2);height:10px;bottom:-10px;};}#chat{height:100%;}shop-input, shop-select{font-size:16px;}shop-select{margin-bottom:20px;}.row{@apply (--layout-horizontal);@apply (--layout-end);}.column{@apply (--layout-vertical);}.row > .flex,
      .input-row > *{@apply (--layout-flex);}.input-row > *:not(:first-child){margin-left:8px;}.shop-select-label{line-height:20px;}shop-image::before{content:"";display:block;padding-top:100%;}.detail{margin:64px 32px;width:70%;max-width:600px;transition:opacity 0.4s;opacity:0;}.main-frames{transition:opacity 0.5s;margin:0 auto;padding:0 24px 48px 24px;overflow:hidden;}#tabContainer{position:relative;height:66px;background-color:#1976D2;}shop-tabs, shop-tab{--shop-tab-overlay:{border-bottom:2px solid var(--app-accent-color);};}shop-tabs{height:100%;}shop-tab{margin:0 10px;}shop-tab a{display:inline-block;outline:none;padding:9px 5px;font-size:13px;font-weight:500;text-decoration:none;color:var(--app-primary-color);}.detail[has-content]{opacity:1;}.chat-list{overflow-y:scroll;padding-bottom:16px;}h1{font-size:24px;font-weight:500;line-height:28px;margin:0;}.price{margin:16px 0 40px;font-size:16px;color:var(--app-secondary-color);}.shim{position:fixed;bottom:54px;left:0;right:0;height:36px;background:linear-gradient(rgba(255,255,255,0), #eee 80%) top center no-repeat;}.send-message{position:fixed;bottom:0;left:0;right:0;background:white;margin:0px;display:flex;padding:0px;}#checkoutForm{display:flex;width:100%;margin:10px;background:white;}#inputChat{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;}.description{margin:32px 0;}.description > h2{margin:16px 0;margin-right:10px;font-size:13px;display:inline;}.description > p{margin:0;color:var(--app-secondary-color);display:inline;}.pickers{@apply (--layout-vertical);border-top:1px solid #ccc;}shop-select > select{font-size:16px;padding:16px 24px 16px 70px;}@media (max-width: 767px){#content{@apply (--layout-vertical);@apply (--layout-center);}shop-image{margin:0;margin-top:50px;width:100%;--shop-image-img:{@apply (--layout-fit);border-radius:0%;};}.detail{box-sizing:border-box;margin:32px 0;padding:0 24px;width:100%;max-width:600px;}h1{font-size:20px;line-height:24px;}.price{font-size:inherit;margin:12px 0 32px;}}</style><firebase-auth id="auth" provider="email" signed-in="{{signedIn}}" user="{{user}}" on-error="handleError"></firebase-auth><app-route route="[[route]]" pattern="/:item" data="{{routeData}}"></app-route><firebase-document path="/users/[[user.uid]]" data="{{loguserFirebase}}"></firebase-document><firebase-query id="chats" path="/chats/[[user.uid]]/[[routeData.item]]" order-by-child="_timestamp" data="{{chatdata}}"></firebase-query><firebase-document path="/users/[[routeData.item]]" data="{{userFirebase}}"></firebase-document><app-indexeddb-mirror session="[[user.uid]]" key="[[_computePath(routeData.item,visible)]]" data="{{userFirebase}}" persisted-data="{{item}}"></app-indexeddb-mirror><firebase-document path="/teams/[[item.team]]" data="{{categoryFirebase}}"></firebase-document><app-indexeddb-mirror session="[[user.uid]]" key="[[_computePath(item.team,visible)]]" data="{{categoryFirebase}}" persisted-data="{{category}}"></app-indexeddb-mirror><app-header role="navigation" id="header" effects="waterfall" condenses="" reveals=""><app-toolbar><div class="left-bar-item"><a class="back-btn" href="javascript:history.back()" tabindex="-1"><paper-icon-button icon="arrow-back" aria-label="Go back"></paper-icon-button></a></div><div class="logo" main-title=""><a href="#/" aria-label="SHOP Home">PROJECTAGRAM</a></div></app-toolbar><div id="tabContainer" sticky$="[[_shouldShowTabs]]"><shop-tabs selected="[[categoryName]]" attr-for-selected="name"><shop-tab name="profile"><a on-click="changeState" data-args="profile">Profile</a></shop-tab><shop-tab name="chat"><a on-click="changeState" data-args="chat">Chat</a></shop-tab></shop-tabs></div></app-header><div class="main-frames" style="margin-top:135px"><iron-pages selected="[[categoryName]]" attr-for-selected="state"><div state="profile"><div id="content" hidden$="[[failure]]"><shop-image alt="[[item.name]]" src="[[_computeImg(routeData.item,visible)]]"></shop-image><div class="detail" has-content$="[[_isDefined(item)]]"><h1>[[item.name]]</h1><div class="price">[[item.designation]]</div><div class="description"><h2>E-Mail:</h2><p id="emailId"></p><hr><h2>Date Of Birth:</h2><p id="dob"></p><hr><h2>Mobile Number:</h2><p id="mobileNum"></p><hr><h2>Team:</h2><p id="team">[[category.title]]</p><hr><h2>Description</h2><p id="desc"></p><hr><shop-button><a href="[[item.fblink]]" target="_blank">Facebook</a></shop-button><shop-button><a href="[[item.linkedin]]" target="_blank">LinkedIn</a></shop-button></div></div></div></div><div state="chat"><div id="chatlooper" class="chatloopouter" style="margin-top: 60px; margin-bottom: 60px; width:100%"><template is="dom-repeat" items="[[chatdata]]" as="chat"><template is="dom-if" if="[[isLoggedInSender(chat.senderid)]]"><div class="chatloop" style="margin-bottom: 5px;overflow: hidden"><div style="float: right;
                clear: right;
                max-width: 85%;
                padding: 5px;
                background: antiquewhite;
                border-radius: 10%;
                word-wrap: break-word"><p><b>[[chat.sendername]]</b></p><p>[[chat.message]]</p></div></div></template><template is="dom-if" if="[[!isLoggedInSender(chat.senderid)]]"><div class="chatloop" style="margin-bottom: 5px;overflow: hidden"><div style="float: left;
                clear: left;
                max-width: 85%;
                padding: 5px;
                background: cornsilk;
                border-radius: 10%;
                word-wrap: break-word"><p><b>[[chat.sendername]]</b></p><p>[[chat.message]]</p></div></div></template></template></div><div id="scrollhere"></div><div id="checkoutFormDiv" class="send-message"><form id="checkoutForm" is="iron-form" method="post"><paper-input flex="" label="Type message..." id="inputChat" name="inputChat"></paper-input><paper-fab icon="send" id="sendButton" on-tap="_submit" role="button" tabindex="0" aria-label="send"></paper-fab></form></div></div></iron-pages></div></template><script>Polymer({is:'shop-detail',properties:{item:Object,category:Object,chatdata:{type:Object,notify:!0},route:Object,routeData:Object,visible:Boolean,_shouldShowTabs:{type:Boolean,value:!0},categoryName:{type:String,value:''},offline:{type:Boolean,observer:'_offlineChanged'},failure:Boolean},observers:['_itemChanged(item, visible)','_categoryChanged(category, visible)','_routeChanged(route)','chatdataChanged(chatdata.*)'],chatdataChanged:function(){'chat'==this.categoryName&&this.$.scrollhere.scrollIntoView()},_routeChanged:function(a){a&&'/detail'==a.prefix&&(this.categoryName='profile')},changeState:function(a){var b=a.target.dataset.args.split(',');if(this.categoryName=b[0],'chat'==this.categoryName)this.$.scrollhere.scrollIntoView();else{Polymer.AppLayout.scroll({top:0,behavior:'silent'})}},isLoggedInSender:function(a){return!(this.user.uid!=a)},_itemChanged:function(a,b){b&&'/detail'==this.route.prefix&&this.debounce('item-change',function(){var c=a?a.shortBio:'';this.$.desc&&(this.$.desc.innerHTML=this._unescapeText(c)),c=a?a.emailId:'',this.$.emailId&&(this.$.emailId.innerHTML=this._unescapeText(c)),c=a?a.dob:'',this.$.dob&&(this.$.dob.innerHTML=this._unescapeText(c)),c=a?a.mobileNum:'',this.$.mobileNum&&(this.$.mobileNum.innerHTML=this._unescapeText(c)),this.fire('change-section',{category:a.category,title:a.name})})},_categoryChanged:function(a,b){if(b&&'/detail'==this.route.prefix){var c=a?a.title:'';this.$.team&&(this.$.team.innerHTML=this._unescapeText(c))}},_unescapeText:function(a){var b=document.createElement('textarea');return b.innerHTML=a,b.textContent},_formatPrice:function(a){return a?'$'+a.toFixed(2):''},_addToCart:function(){this.fire('add-cart-item',{item:this.item,quantity:parseInt(this.$.quantitySelect.value,10),size:this.$.sizeSelect.value})},_openFb:function(a){return window.open(a,'_blank')},_isDefined:function(a){return null!=a},_tryReconnect:function(){this.$.categoryData.refresh()},_offlineChanged:function(a){a||this._tryReconnect()},_computeImg:function(a,b){if(b&&'/detail'==this.route.prefix)return a?'https://firebasestorage.googleapis.com/v0/b/note-app-firebase-5320d.appspot.com/o/users%2F'+a+'.jpg?alt=media':''},_computePath:function(a,b){return b&&'/detail'==this.route.prefix?a?a:'':null},_computeCall:function(a,b){return b&&a&&'/detail'==a.prefix},_submit:function(){if(null==this.$.inputChat.value||0==this.$.inputChat.value.length){var b=document.createElement('shop-snackbar');Polymer.dom(this.root).appendChild(b),Polymer.dom(b).innerHTML='Message Empty',b.open()}else{var c=this.$.auth.app,d=Date.now(),f={sendername:this.loguserFirebase.name,senderid:this.user.uid,message:this.$.inputChat.value,_timestamp:d},g=c.database().ref().child('chats').child(this.user.uid).child(this.routeData.item).push().key,h={};h['/chats/'+this.user.uid+'/'+this.routeData.item+'/'+g]=f,h['/chats/'+this.routeData.item+'/'+this.user.uid+'/'+g]=f,c.database().ref().update(h),this.$.inputChat.value='',this.$.scrollhere.scrollIntoView()}}});</script></dom-module></body></html>