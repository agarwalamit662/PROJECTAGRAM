<html><head><link rel="import" href="../bower_components/polymerfire/polymerfire.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="import" href="shop-common-styles.html"><link rel="import" href="shop-image.html"><link rel="import" href="shop-list-item.html"><link rel="import" href="shop-tabs.html"><link rel="import" href="shop-tab.html"><link rel="import" href="../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../bower_components/app-layout/app-scroll-effects/effects/waterfall.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html"><link rel="import" href="../bower_components/polymerfire/firebase-auth.html"><link rel="import" href="../bower_components/polymerfire/firebase-document.html"><link rel="import" href="../bower_components/polymerfire/firebase-query.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-app.html"><link rel="prefetch" href="../bower_components/polymer/polymer.html"><link rel="prefetch" href="../bower_components/polymer/polymer-mini.html"><link rel="prefetch" href="../bower_components/polymer/polymer-micro.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-app-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-app.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-common-behavior.html"><link rel="prefetch" href="../bower_components/app-storage/app-network-status-behavior.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-auth-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-auth.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-database-behavior.html"><link rel="prefetch" href="../bower_components/app-storage/app-storage-behavior.html"><link rel="prefetch" href="../bower_components/promise-polyfill/promise-polyfill.html"><link rel="prefetch" href="../bower_components/promise-polyfill/promise-polyfill-lite.html"><link rel="prefetch" href="../bower_components/promise-polyfill/Promise.js"><link rel="prefetch" href="../bower_components/promise-polyfill/Promise-Statics.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-database-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-database.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-messaging.html"><link rel="prefetch" href="../bower_components/polymerfire/firebase-messaging-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-messaging.js"><link rel="prefetch" href="../bower_components/polymerfire/firebase-storage-script.html"><link rel="prefetch" href="../bower_components/firebase/firebase-storage.js"><link rel="prefetch" href="../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror-client.html"><link rel="prefetch" href="../bower_components/app-storage/app-indexeddb-mirror/common-worker.html"><link rel="prefetch" href="../bower_components/iron-selector/iron-selectable.html"><link rel="prefetch" href="../bower_components/iron-selector/iron-selection.html"><link rel="prefetch" href="shop-tabs-overlay.html"><link rel="prefetch" href="shop-ripple-container.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../bower_components/paper-ripple/paper-ripple.html"><link rel="prefetch" href="../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../bower_components/iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects-behavior.html"><link rel="prefetch" href="../bower_components/iron-scroll-target-behavior/iron-scroll-target-behavior.html"><link rel="prefetch" href="../bower_components/app-layout/helpers/helpers.html"><link rel="prefetch" href="../bower_components/iron-icon/iron-icon.html"><link rel="prefetch" href="../bower_components/iron-meta/iron-meta.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../bower_components/iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../bower_components/iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../bower_components/paper-styles/default-theme.html"><link rel="prefetch" href="../bower_components/paper-styles/color.html"></head><body><dom-module id="shop-list"><template><style include="shop-common-styles">.hero-image{position:relative;height:320px;overflow:hidden;margin-bottom:32px;}paper-icon-button{color:var(--app-primary-color);}.logo{text-align:center;}.logo a{font-size:20px;font-weight:600;letter-spacing:0.3em;color:var(--app-white-color);text-decoration:none;display:inline-block;pointer-events:auto;}.left-bar-item{width:40px;}app-header{@apply (--layout-fixed-top);z-index:1;background-color:#1976D2;--app-header-shadow:{box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.2);height:10px;bottom:-10px;};}.main-frame{transition:opacity 0.5s;}.hero-image{--shop-image-img:{position:absolute;top:0;bottom:0;left:-9999px;right:-9999px;max-width:none;};}#tabContainer{position:relative;height:66px;background-color:#1976D2;}shop-tabs, shop-tab{--shop-tab-overlay:{border-bottom:2px solid var(--app-accent-color);};}shop-tabs{height:100%;}shop-tab{margin:0 10px;}shop-tab a{display:inline-block;outline:none;padding:9px 5px;font-size:13px;font-weight:500;text-decoration:none;color:var(--app-primary-color);}.grid{@apply (--layout-horizontal);@apply (--layout-wrap);margin:0 10px 32px 10px;padding:0;list-style:none;}header{margin-top:20px;}.grid li{-webkit-flex:1 1;flex:1 1;-webkit-flex-basis:33%;flex-basis:33%;max-width:33%;}.grid a{display:block;text-decoration:none;}@media (max-width: 767px){.hero-image{display:none;}.grid  li{-webkit-flex-basis:50%;flex-basis:50%;max-width:50%;}}</style><app-route route="[[route]]" pattern="/:team" data="{{routeData}}"></app-route><firebase-document path="/teams/[[routeData.team]]" data="{{categoryFirebase}}"></firebase-document><app-indexeddb-mirror session="[[user.uid]]" key="[[_computePath(routeData.team,visible)]]" data="{{categoryFirebase}}" persisted-data="{{category}}"></app-indexeddb-mirror><app-header role="navigation" id="header" effects="waterfall" hidden="[[!signedin]]" condenses="" reveals=""><app-toolbar><div class="left-bar-item"><paper-icon-button class="menu-btn" icon="menu" on-click="_toggleDrawer" aria-label="Categories"></paper-icon-button></div><div class="logo" main-title=""><a href="#/" aria-label="SHOP Home">PROJECTAGRAM</a></div></app-toolbar><div id="tabContainer" sticky$="[[_shouldShowTabs]]"><shop-tabs selected="[[categoryName]]" attr-for-selected="name"><shop-tab name="members"><a on-click="changeState" data-args="members">Members</a></shop-tab><shop-tab name="announcements"><a on-click="changeState" data-args="announcements">Announcements</a></shop-tab></shop-tabs></div></app-header><div style="margin-top:130px"><shop-image alt="[[category.title]]" src="[[teamName]]" placeholder-img="[[category.placeholder]]" class="hero-image"></shop-image><firebase-document path="/teams/[[routeData.team]]/members" data="{{categoryMembersFirebase}}"></firebase-document><app-indexeddb-mirror session="[[user.uid]]" key="[[_computePathMembers(routeData.team,visible)]]" data="{{categoryMembersFirebase}}" persisted-data="{{categoryMembers}}"></app-indexeddb-mirror><div class="main-frame"><iron-pages selected="[[categoryName]]" attr-for-selected="state"><div state="members"><header><h1>[[category.title]]</h1><span>[[_arrLen(categoryMembers,visible)]]</span></header><ul class="grid" hidden$="[[failure]]"><template is="dom-repeat" items="[[_toArray(categoryMembers,visible)]]" initial-count="4"><li><a href$="[[_getItemHref(item)]]"><shop-list-item item="[[item]]"></shop-list-item></a></li></template></ul></div><header state="announcements"><h1>Thank you</h1><p>Bye</p><shop-button responsive=""><a href="#/home">Go to Home</a></shop-button></header></iron-pages></div></div></template><script>Polymer({is:'shop-list',properties:{category:{type:Object,notify:!0},_shouldShowTabs:{type:Boolean,value:!0},categoryName:{type:String,value:''},teamName:{type:String,notify:!0,value:''},categoryMembers:{type:Object,notify:!0},route:Object,routeData:Object,visible:Boolean,page:{type:String,reflectToAttribute:!0},offline:{type:Boolean,observer:'_offlineChanged'},failure:Boolean},observers:['_categoryChanged(category, visible)','_routeChanged(route)'],_routeChanged:function(a){a&&'/list'==a.prefix&&(this.categoryName='members')},_getListItems:function(a){return a||[{},{},{},{},{},{},{},{},{},{}]},ready:function(){this.categoryName='members'},changeState:function(a){var b=a.target.dataset.args.split(',');this.categoryName=b[0];Polymer.AppLayout.scroll({top:0,behavior:'silent'})},_getItemHref:function(a){return a.name?['#/detail',a.name].join('/'):null},_getPluralizedQuantity:function(a){if(!a)return'';var b=1===a?'item':'items';return'('+a+' '+b+')'},_categoryChanged:function(a,b){b&&'/list'==this.route.prefix&&(a?(this.teamName=a.name?'https://firebasestorage.googleapis.com/v0/b/note-app-firebase-5320d.appspot.com/o/teams%2F'+a.name+'.png?alt=media':'',this.debounce('change-section',function(){this.fire('change-section',{category:a.name,title:a.title})})):this.fire('show-invalid-url-warning'))},_toggleDrawer:function(){this.fire('toggle-drawer',null)},_tryReconnect:function(){this.$.categoryData.refresh()},_offlineChanged:function(a){a||this._tryReconnect()},_computeCall:function(a,b){return b&&a&&'/list'==a.prefix},_toArray:function(a,b){if(b)return Object.keys(a).map(function(c){return{name:c,value:a[c]}})},_arrLen:function(a,b){if(b){var c=Object.keys(a).length;if(!c)return'';var d=1===c?'member':'members';return'('+c+' '+d+')'}},_computePath:function(a,b){return b&&'/list'==this.route.prefix?a?a:'':null},_computePathMembers:function(a,b){return b&&'/list'==this.route.prefix?a?a+'members':'':null}});</script></dom-module></body></html>