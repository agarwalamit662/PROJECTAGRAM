(function(){for(var i,_,j="function"==typeof Object.defineProperties?Object.defineProperty:function(re,se,te){if(te.get||te.set)throw new TypeError("ES3 does not support getters and setters.");re!=Array.prototype&&re!=Object.prototype&&(re[se]=te.value)},o="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,s=["Number","MIN_SAFE_INTEGER"],$=0;$<s.length-1;$++)_=s[$],_ in o||(o[_]={}),o=o[_];var _a=s[s.length-1];-9007199254740991!=o[_a]&&j(o,_a,{configurable:!0,writable:!0,value:-9007199254740991});var Xb=this,Yb=function(re){return void 0!==re},Zb=function(re){var se=typeof re;if("object"==se){if(re){if(re instanceof Array)return"array";if(re instanceof Object)return se;var te=Object.prototype.toString.call(re);if("[object Window]"==te)return"object";if("[object Array]"==te||"number"==typeof re.length&&"undefined"!=typeof re.splice&&"undefined"!=typeof re.propertyIsEnumerable&&!re.propertyIsEnumerable("splice"))return"array";if("[object Function]"==te||"undefined"!=typeof re.call&&"undefined"!=typeof re.propertyIsEnumerable&&!re.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==se&&"undefined"==typeof re.call)return"object";return se},$b=function(re,se){return-1!==re.indexOf(se)},_b=function(re,se,te){function ue(){Ce||(Ce=!0,se.apply(null,arguments))}function ve(Ee){ze=setTimeout(function(){ze=null,re(we,2===Be)},Ee)}function we(Ee){if(!Ce)if(Ee)ue.apply(null,arguments);else if(2===Be||Ae)ue.apply(null,arguments);else{64>ye&&(ye*=2);var Ge;1===Be?(Be=2,Ge=0):Ge=1E3*(ye+Math.random()),ve(Ge)}}function xe(Ee){De||(De=!0,Ce||(null===ze?Ee||(Be=1):(Ee||(Be=2),clearTimeout(ze),ve(0))))}var ye=1,ze=null,Ae=!1,Be=0,Ce=!1,De=!1;return ve(0),setTimeout(function(){Ae=!0,xe(!0)},te),xe},ac="https://firebasestorage.googleapis.com",bc=function(re,se){this.code="storage/"+re,this.message="Firebase Storage: "+se,this.serverResponse=null,this.name="FirebaseError"};(function(){function re(){}var se=Error;re.prototype=se.prototype,bc.b=se.prototype,bc.prototype=new re,bc.a=function(te,ue){for(var we=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)we[xe-2]=arguments[xe];return se.prototype[ue].apply(te,we)}})();var cc=function(){return new bc("unknown","An unknown error occurred, please check the error payload for server response.")},dc=function(){return new bc("canceled","User canceled the upload/download.")},ec=function(){return new bc("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},fc=function(re,se,te){return new bc("invalid-argument","Invalid argument in `"+se+"` at index "+re+": "+te)},gc=function(){return new bc("app-deleted","The Firebase app was deleted.")},hc=function(re,se){return new bc("invalid-format","String does not match format '"+re+"': "+se)},ic=function(re){throw new bc("internal-error","Internal error: "+re)},jc=function(re,se){for(var te in re)Object.prototype.hasOwnProperty.call(re,te)&&se(te,re[te])},kc=function(re){var se={};return jc(re,function(te,ue){se[te]=ue}),se},lc=function(re,se){return se=se.split("/").filter(function(te){return 0<te.length}).join("/"),0===re.length?se:re+"/"+se},mc=function(re){var se=re.lastIndexOf("/",re.length-2);return-1===se?re:re.slice(se+1)},nc=function(re){if("undefined"!==typeof firebase)return new firebase.Promise(re);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},oc=function(re,se,te,ue){this.j=re,this.b={},this.method=se,this.headers={},this.body=null,this.l=te,this.c=this.a=null,this.f=[200],this.h=[],this.timeout=ue,this.g=!0},pc={STATE_CHANGED:"state_changed"},qc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},rc=function(re){return"running"===re||"pausing"===re||"canceling"===re?"running":"paused"===re?"paused":"success"===re?"success":"canceled"===re?"canceled":"error"===re?"error":"error"},sc=function(re){return Yb(re)&&null!==re},tc=function(re){return"string"===typeof re||re instanceof String},uc=function(){return"undefined"!==typeof Blob},vc=function(re,se){var te=qd;return Object.prototype.hasOwnProperty.call(te,re)?te[re]:te[re]=se(re)},wc=String.prototype.trim?function(re){return re.trim()}:function(re){return re.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},xc=function(re,se){return re<se?-1:re>se?1:0},yc=function(re){return function(){var se=[];Array.prototype.push.apply(se,arguments),firebase.Promise.resolve(!0).then(function(){re.apply(null,se)})}},zc=function(re,se){this.bucket=re,this.path=se},Ac=function(re){var se=encodeURIComponent;return"/b/"+se(re.bucket)+"/o/"+se(re.path)},Bc=function(re){var se;try{se=Cc(re)}catch(te){return new zc(re,"")}if(""===se.path)return se;throw new bc("invalid-default-bucket","Invalid default bucket '"+re+"'.")},Cc=function(re){for(var se=null,te=[{K:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,G:{bucket:1,path:3},J:function(xe){"/"===xe.path.charAt(xe.path.length-1)&&(xe.path=xe.path.slice(0,-1))}},{K:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,G:{bucket:1,path:3},J:function(xe){xe.path=decodeURIComponent(xe.path)}}],ue=0;ue<te.length;ue++){var ve=te[ue],we=ve.K.exec(re);if(we){se=we[ve.G.bucket],(we=we[ve.G.path])||(we=""),se=new zc(se,we),ve.J(se);break}}if(null==se)throw new bc("invalid-url","Invalid URL '"+re+"'.");return se},Dc=function(re,se,te){"function"==Zb(re)||sc(se)||sc(te)?(this.b=re,this.error=se||null,this.a=te||null):(this.b=re.next||null,this.error=re.error||null,this.a=re.complete||null)},Ec={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fc=function(re){switch(re){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url].";}},Gc=function(re,se){this.data=re,this.a=se||null},Hc=function(re,se){switch(re){case"raw":return new Gc(Ic(se));case"base64":case"base64url":return new Gc(Jc(re,se));case"data_url":re=new Kc(se);var te;if(re.a)te=Jc("base64",re.c);else{try{te=decodeURIComponent(re.c)}catch(ue){throw hc("data_url","Malformed data URL.")}te=Ic(te)}return new Gc(te,new Kc(se).b);}throw cc()},Ic=function(re){for(var ue,se=[],te=0;te<re.length;te++)if(ue=re.charCodeAt(te),127>=ue)se.push(ue);else if(2047>=ue)se.push(192|ue>>6,128|63&ue);else if(55296!=(64512&ue))56320==(64512&ue)?se.push(239,191,189):se.push(224|ue>>12,128|63&ue>>6,128|63&ue);else if(te<re.length-1&&56320==(64512&re.charCodeAt(te+1))){var ve=re.charCodeAt(++te),ue=65536|(1023&ue)<<10|1023&ve;se.push(240|ue>>18,128|63&ue>>12,128|63&ue>>6,128|63&ue)}else se.push(239,191,189);return new Uint8Array(se)},Jc=function(re,se){switch(re){case"base64":var te=-1!==se.indexOf("-"),ue=-1!==se.indexOf("_");if(te||ue)throw hc(re,"Invalid character '"+(te?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(te=-1!==se.indexOf("+"),ue=-1!==se.indexOf("/"),te||ue)throw hc(re,"Invalid character '"+(te?"+":"/")+"' found: is it base64 encoded?");se=se.replace(/-/g,"+").replace(/_/g,"/");}var ve;try{ve=atob(se)}catch(we){throw hc(re,"Invalid character found")}for(re=new Uint8Array(ve.length),se=0;se<ve.length;se++)re[se]=ve.charCodeAt(se);return re},Kc=function(re){var se=re.match(/^data:([^,]+)?,/);if(null===se)throw hc("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(se=se[1]||null,this.a=!1,this.b=null,null!=se){var te=se.length-7;this.b=(this.a=0<=te&&se.indexOf(";base64",te)==te)?se.substring(0,se.length-7):se}this.c=re.substring(re.indexOf(",")+1)},Lc=function(re){var se=encodeURIComponent,te="?";return jc(re,function(ue,ve){ue=se(ue)+"="+se(ve),te=te+ue+"&"}),te=te.slice(0,-1)},Mc=function(){var re=this;this.a=new XMLHttpRequest,this.c=0,this.f=nc(function(se){re.a.addEventListener("abort",function(){re.c=2,se(re)}),re.a.addEventListener("error",function(){re.c=1,se(re)}),re.a.addEventListener("load",function(){se(re)})}),this.b=!1},Nc=function(re,se,te,ue,ve){if(re.b)throw ic("cannot .send() more than once");return re.b=!0,re.a.open(te,se,!0),sc(ve)&&jc(ve,function(we,xe){re.a.setRequestHeader(we,xe.toString())}),sc(ue)?re.a.send(ue):re.a.send(),re.f},Oc=function(re){if(!re.b)throw ic("cannot .getErrorCode() before sending");return re.c},Pc=function(re){if(!re.b)throw ic("cannot .getStatus() before sending");try{return re.a.status}catch(se){return-1}},Qc=function(re){if(!re.b)throw ic("cannot .getResponseText() before sending");return re.a.responseText};Mc.prototype.abort=function(){this.a.abort()};var Rc=function(re,se,te,ue,ve,we){this.b=re,this.h=se,this.f=te,this.a=ue,this.g=ve,this.c=we};i=Rc.prototype,i.V=function(){return this.b},i.qa=function(){return this.h},i.na=function(){return this.f},i.ia=function(){return this.a},i.W=function(){if(sc(this.a)){var re=this.a.downloadURLs;return sc(re)&&sc(re[0])?re[0]:null}return null},i.pa=function(){return this.g},i.la=function(){return this.c};var Sc;a:{var Tc=Xb.navigator;if(Tc){var Uc=Tc.userAgent;if(Uc){Sc=Uc;break a}}Sc=""}var Vc=function(re,se,te,ue,ve,we,xe,ye,ze,Ae,Be){this.D=re,this.C=se,this.w=te,this.s=ue,this.A=ve.slice(),this.o=we.slice(),this.l=this.m=this.c=this.b=null,this.g=this.h=!1,this.u=xe,this.j=ye,this.f=Ae,this.F=Be,this.B=ze;var Ce=this;this.v=nc(function(De,Ee){Ce.m=De,Ce.l=Ee,Xc(Ce)})},Wc=function(re,se,te){this.b=re,this.c=se,this.a=!!te},Xc=function(re){function te(ve,we){var xe=ue.m;ve=ue.l;var ye=we.c;if(we.b)try{var ze=ue.u(ye,Qc(ye));Yb(ze)?xe(ze):xe()}catch(Ae){ve(Ae)}else null===ye?(we=we.a?ue.g?gc():dc():new bc("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),ve(we)):(we=cc(),ze=Qc(ye),we.serverResponse=ze,ue.j?ve(ue.j(ye,we)):ve(we))}var ue=re;re.h?te(0,new Wc(!1,null,!0)):re.c=_b(function(ve,we){function xe(ye){ue.f(ye.loaded,ye.lengthComputable?ye.total:-1)}we?ve(!1,new Wc(!1,null,!0)):(we=new Mc,we.a.withCredentials=ue.F,ue.b=we,null!==ue.f&&Yb(we.a.upload)&&we.a.upload.addEventListener("progress",xe),Nc(we,ue.D,ue.C,ue.s,ue.w).then(function(ye){null!==ue.f&&Yb(ye.a.upload)&&ye.a.upload.removeEventListener("progress",xe),ue.b=null;var ze=0===Oc(ye),Ae=Pc(ye);if(!(ze=!ze))var ze=$b([408,429],Ae),Be=$b(ue.o,Ae),ze=500<=Ae&&600>Ae||ze||Be;ze?(ye=2===Oc(ye),ve(!1,new Wc(!1,null,ye))):ve(!0,new Wc($b(ue.A,Ae),ye))}))},te,re.B)};Vc.prototype.a=function(){return this.v},Vc.prototype.cancel=function(re){this.h=!0,this.g=re||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var Yc=function(re,se,te){var ue=Lc(re.b),ue=re.j+ue,ve=re.headers?kc(re.headers):{};return null!==se&&0<se.length&&(ve.Authorization="Firebase "+se),ve["X-Firebase-Storage-Version"]="webjs/"+("undefined"===typeof firebase?"AppManager":firebase.SDK_VERSION),new Vc(ue,re.method,ve,re.body,re.f,re.h,re.l,re.a,re.timeout,re.c,te)},Zc=function(){},$c=function(re){this.b=firebase.Promise.reject(re)};$c.prototype.a=function(){return this.b},$c.prototype.cancel=function(){};var _c=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},ad=function(re,se){function te(){delete ve.a[ue]}var ue=re.b;re.b++,re.a[ue]=se;var ve=re;se.a().then(te,te)},bd=function(re){jc(re.a,function(se,te){te&&te.cancel(!0)}),re.a={}},cd=function(re,se,te,ue,ve){this.a=re,this.g=null,null!==this.a&&(re=this.a.options,sc(re)&&(re=re.storageBucket||null,this.g=null==re?null:Bc(re).bucket)),this.o=se,this.m=te,this.j=ve,this.l=ue,this.c=12E4,this.b=6E4,this.h=new _c,this.f=!1},dd=function(re){return null!==re.a&&sc(re.a.INTERNAL)&&sc(re.a.INTERNAL.getToken)?re.a.INTERNAL.getToken().then(function(se){return sc(se)?se.accessToken:null},function(){return null}):firebase.Promise.resolve(null)};cd.prototype.bucket=function(){if(this.f)throw gc();return this.g};var ed=function(re,se,te){return re.f?new $c(gc()):(se=re.m(se,te,null===re.a,re.j),ad(re.h,se),se)},fd=-1!=Sc.indexOf("Opera"),gd=-1!=Sc.indexOf("Trident")||-1!=Sc.indexOf("MSIE"),hd=-1!=Sc.indexOf("Edge"),id=-1!=Sc.indexOf("Gecko")&&(-1==Sc.toLowerCase().indexOf("webkit")||-1!=Sc.indexOf("Edge"))&&-1==Sc.indexOf("Trident")&&-1==Sc.indexOf("MSIE")&&-1==Sc.indexOf("Edge"),jd=-1!=Sc.toLowerCase().indexOf("webkit")&&-1==Sc.indexOf("Edge"),kd;a:{var ld="",md=function(){var re=Sc;return id?/rv\:([^\);]+)(\)|;)/.exec(re):hd?/Edge\/([\d\.]+)/.exec(re):gd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(re):jd?/WebKit\/(\S+)/.exec(re):fd?/(?:Version)[ \/]?(\S+)/.exec(re):void 0}();if(md&&(ld=md?md[1]:""),gd){var nd,od=Xb.document;if(nd=od?od.documentMode:void 0,null!=nd&&nd>parseFloat(ld)){kd=nd+"";break a}}kd=ld}var pd=kd,qd={},rd=function(re){return vc(re,function(){for(var se=0,te=wc(pd+"").split("."),ue=wc(re+"").split("."),ve=Math.max(te.length,ue.length),we=0;0==se&&we<ve;we++){var xe=te[we]||"",ye=ue[we]||"";do{if(xe=/(\d*)(\D*)(.*)/.exec(xe)||["","","",""],ye=/(\d*)(\D*)(.*)/.exec(ye)||["","","",""],0==xe[0].length&&0==ye[0].length)break;se=xc(0==xe[1].length?0:parseInt(xe[1],10),0==ye[1].length?0:parseInt(ye[1],10))||xc(0==xe[2].length,0==ye[2].length)||xc(xe[2],ye[2]),xe=xe[3],ye=ye[3]}while(0==se)}return 0<=se})},sd=function(){var se=Xb.BlobBuilder||Xb.WebKitBlobBuilder;if(Yb(se)){for(var se=new se,te=0;te<arguments.length;te++)se.append(arguments[te]);return se.getBlob()}if(se=Array.prototype.slice.call(arguments),te=Xb.BlobBuilder||Xb.WebKitBlobBuilder,Yb(te)){for(var te=new te,ue=0;ue<se.length;ue++)te.append(se[ue],void 0);se=te.getBlob(void 0)}else if(Yb(Xb.Blob))se=new Blob(se,{});else throw Error("This browser doesn't seem to support creating Blobs");return se},td=function(re,se,te){return Yb(te)||(te=re.size),re.webkitSlice?re.webkitSlice(se,te):re.mozSlice?re.mozSlice(se,te):re.slice?id&&!rd("13.0")||jd&&!rd("537.1")?(0>se&&(se+=re.size),0>se&&(se=0),0>te&&(te+=re.size),te<se&&(te=se),re.slice(se,te-se)):re.slice(se,te):null},ud=function(re,se){return se},vd=function(re,se,te,ue){this.c=re,this.b=se||re,this.writable=!!te,this.a=ue||ud},wd=null,xd=function(){if(wd)return wd;var re=[new vd("bucket"),new vd("generation"),new vd("metageneration"),new vd("name","fullPath",!0)],se=new vd("name");return se.a=function(te,ue){return!tc(ue)||2>ue.length?ue:mc(ue)},re.push(se),se=new vd("size"),se.a=function(te,ue){return sc(ue)?+ue:ue},re.push(se),re.push(new vd("timeCreated")),re.push(new vd("updated")),re.push(new vd("md5Hash",null,!0)),re.push(new vd("cacheControl",null,!0)),re.push(new vd("contentDisposition",null,!0)),re.push(new vd("contentEncoding",null,!0)),re.push(new vd("contentLanguage",null,!0)),re.push(new vd("contentType",null,!0)),re.push(new vd("metadata","customMetadata",!0)),re.push(new vd("downloadTokens","downloadURLs",!1,function(te,ue){if(!(tc(ue)&&0<ue.length))return[];var ve=encodeURIComponent;return ue.split(",").map(function(we){var xe=te.fullPath,xe="https://firebasestorage.googleapis.com/v0/b/"+ve(te.bucket)+"/o/"+ve(xe);return we=Lc({alt:"media",token:we}),xe+we})})),wd=re},yd=function(re,se){Object.defineProperty(re,"ref",{get:function(){return se.o(se,new zc(re.bucket,re.fullPath))}})},zd=function(re,se){for(var we,te={},ue=se.length,ve=0;ve<ue;ve++)we=se[ve],we.writable&&(te[we.c]=re[we.b]);return JSON.stringify(te)},Ad=function(re){if(!re||"object"!==typeof re)throw"Expected Metadata object.";for(var se in re){var te=re[se];if("customMetadata"===se){if("object"!==typeof te)throw"Expected object for 'customMetadata' mapping.";}else if(null!=te&&"object"===typeof te)throw"Mapping for '"+se+"' cannot be an object."}},Bd=function(re,se,te){for(var ue=se.length,ve=se.length,we=0;we<se.length;we++)if(se[we].b){ue=we;break}if(!(ue<=te.length&&te.length<=ve))throw ue===ve?(se=ue,ue=1===ue?"argument":"arguments"):(se="between "+ue+" and "+ve,ue="arguments"),new bc("invalid-argument-count","Invalid argument count in `"+re+"`: Expected "+se+" "+ue+", received "+te.length+".");for(we=0;we<te.length;we++)try{se[we].a(te[we])}catch(xe){if(xe instanceof Error)throw fc(we,re,xe.message);throw fc(we,re,xe)}},Cd=function(re,se){var te=this;this.a=function(ue){te.b&&!Yb(ue)||re(ue)},this.b=!!se},Dd=function(re,se){return function(te){re(te),se(te)}},Ed=function(re,se){function te(ve){if(!("string"===typeof ve||ve instanceof String))throw"Expected string."}var ue;return ue=re?Dd(te,re):te,new Cd(ue,se)},Fd=function(){return new Cd(function(re){if(!(re instanceof Uint8Array||re instanceof ArrayBuffer||uc()&&re instanceof Blob))throw"Expected Blob or File."})},Gd=function(){return new Cd(function(re){if(!(("number"===typeof re||re instanceof Number)&&0<=re))throw"Expected a number 0 or greater."})},Hd=function(re,se){return new Cd(function(te){if(!(null===te||sc(te)&&te instanceof Object))throw"Expected an Object.";sc(re)&&re(te)},se)},Id=function(){return new Cd(function(re){if(null!==re&&"function"!=Zb(re))throw"Expected a Function."},!0)},Jd=function(re,se){uc()&&re instanceof Blob?(this.i=re,se=re.size,re=re.type):(re instanceof ArrayBuffer?(se?this.i=new Uint8Array(re):(this.i=new Uint8Array(re.byteLength),this.i.set(new Uint8Array(re))),se=this.i.length):(se?this.i=re:(this.i=new Uint8Array(re.length),this.i.set(re)),se=re.length),re=""),this.a=se,this.b=re};Jd.prototype.type=function(){return this.b},Jd.prototype.slice=function(re,se){return uc()&&this.i instanceof Blob?(re=td(this.i,re,se),null===re?null:new Jd(re)):(re=new Uint8Array(this.i.buffer,re,se-re),new Jd(re,!0))};var Kd=function(){var se=[];if(Array.prototype.push.apply(se,arguments),uc())return se=se.map(function(we){return we instanceof Jd?we.i:we}),new Jd(sd.apply(null,se));var se=se.map(function(we){return tc(we)?Hc("raw",we).data:we.i}),te=0;se.forEach(function(we){te+=we.byteLength});var ue=new Uint8Array(te),ve=0;return se.forEach(function(we){for(var xe=0;xe<we.length;xe++)ue[ve++]=we[xe]}),new Jd(ue,!0)},Ld=function(re){if(!re)throw cc()},Md=function(re,se){return function(te,ue){var ve;a:{try{ve=JSON.parse(ue)}catch(ye){ve=null;break a}te=typeof ve,ve="object"==te&&null!=ve||"function"==te?ve:null}if(null===ve)ve=null;else{te={type:"file"},ue=se.length;for(var xe,we=0;we<ue;we++)xe=se[we],te[xe.b]=xe.a(te,ve[xe.c]);yd(te,re),ve=te}return Ld(null!==ve),ve}},Nd=function(re){return function(se,te){return se=401===Pc(se)?new bc("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Pc(se)?new bc("quota-exceeded","Quota for bucket '"+re.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===Pc(se)?new bc("unauthorized","User does not have permission to access '"+re.path+"'."):te,se.serverResponse=te.serverResponse,se}},Od=function(re){var se=Nd(re);return function(te,ue){var ve=se(te,ue);return 404===Pc(te)&&(ve=new bc("object-not-found","Object '"+re.path+"' does not exist.")),ve.serverResponse=ue.serverResponse,ve}},Pd=function(re,se,te){var ue=Ac(se);return re=new oc(ac+"/v0"+ue,"GET",Md(re,te),re.c),re.a=Od(se),re},Qd=function(re,se){var te=Ac(se);return re=new oc(ac+"/v0"+te,"DELETE",function(){},re.c),re.f=[200,204],re.a=Od(se),re},Rd=function(re,se,te){return te=te?kc(te):{},te.fullPath=re.path,te.size=se.a,te.contentType||(re=se&&se.type()||"application/octet-stream",te.contentType=re),te},Sd=function(re,se,te,ue,ve){var ye,we="/b/"+encodeURIComponent(se.bucket)+"/o",xe={"X-Goog-Upload-Protocol":"multipart"};ye="";for(var ze=0;2>ze;ze++)ye+=Math.random().toString().slice(2);if(xe["Content-Type"]="multipart/related; boundary="+ye,ve=Rd(se,ue,ve),ze=zd(ve,te),ue=Kd("--"+ye+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ze+"\r\n--"+ye+"\r\nContent-Type: "+ve.contentType+"\r\n\r\n",ue,"\r\n--"+ye+"--"),null===ue)throw ec();return re=new oc(ac+"/v0"+we,"POST",Md(re,te),re.b),re.b={name:ve.fullPath},re.headers=xe,re.body=ue.i,re.a=Nd(se),re},Td=function(re,se,te,ue){this.a=re,this.total=se,this.b=!!te,this.c=ue||null},Ud=function(re,se){var te;try{te=re.a.getResponseHeader("X-Goog-Upload-Status")}catch(ue){Ld(!1)}return Ld($b(se||["active"],te)),te},Vd=function(re,se,te,ue,ve){var we="/b/"+encodeURIComponent(se.bucket)+"/o",xe=Rd(se,ue,ve);return ve={name:xe.fullPath},we=ac+"/v0"+we,ue={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":ue.a,"X-Goog-Upload-Header-Content-Type":xe.contentType,"Content-Type":"application/json; charset=utf-8"},te=zd(xe,te),re=new oc(we,"POST",function(ye){Ud(ye);var ze;try{ze=ye.a.getResponseHeader("X-Goog-Upload-URL")}catch(Ae){Ld(!1)}return Ld(tc(ze)),ze},re.b),re.b=ve,re.headers=ue,re.body=te,re.a=Nd(se),re},Wd=function(re,se,te,ue){return re=new oc(te,"POST",function(ve){var xe,we=Ud(ve,["active","final"]);try{xe=ve.a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ye){Ld(!1)}return ve=xe,isFinite(ve)&&(ve+=""),ve="string"==typeof ve?/^\s*-?0x/i.test(ve)?parseInt(ve,16):parseInt(ve,10):NaN,Ld(!isNaN(ve)),new Td(ve,ue.a,"final"===we)},re.b),re.headers={"X-Goog-Upload-Command":"query"},re.a=Nd(se),re.g=!1,re},Xd=function(re,se,te,ue,ve,we,xe,ye){var ze=new Td(0,0);if(xe?(ze.a=xe.a,ze.total=xe.total):(ze.a=0,ze.total=ue.a),ue.a!==ze.total)throw new bc("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var Ae=xe=ze.total-ze.a;0<ve&&(Ae=Math.min(Ae,ve));var Be=ze.a;if(ve={"X-Goog-Upload-Command":Ae===xe?"upload, finalize":"upload","X-Goog-Upload-Offset":ze.a},xe=ue.slice(Be,Be+Ae),null===xe)throw ec();return te=new oc(te,"POST",function(Ce,De){var He,Ee=Ud(Ce,["active","final"]),Fe=ze.a+Ae,Ge=ue.a;return He="final"===Ee?Md(se,we)(Ce,De):null,new Td(Fe,Ge,"final"===Ee,He)},se.b),te.headers=ve,te.body=xe.i,te.c=ye||null,te.a=Nd(re),te.g=!1,te},Yd=function(re,se,te,ue,ve,we){var xe=this;this.M=re,this.c=se,this.m=te,this.f=ve,this.h=void 0===we?null:we,this.s=ue,this.j=0,this.F=this.v=!1,this.A=[],this.S=262144<this.f.a,this.b="running",this.a=this.w=this.g=null,this.l=1,this.o=function(ye){xe.a=null,xe.l=1,"storage/canceled"===ye.code?(xe.v=!0,he(xe)):(xe.g=ye,ge(xe,"error"))},this.L=function(ye){xe.a=null,"storage/canceled"===ye.code?he(xe):(xe.g=ye,ge(xe,"error"))},this.C=this.u=null,this.D=nc(function(ye,ze){xe.u=ye,xe.C=ze,$d(xe)}),this.D.then(null,function(){})},Zd=function(re){var se=re.j;return function(te){fe(re,se+te)}},$d=function(re){"running"===re.b&&null===re.a&&(re.S?null===re.w?ae(re):re.v?be(re):re.F?de(re):ce(re):ee(re))},_d=function(re,se){dd(re.c).then(function(te){switch(re.b){case"running":se(te);break;case"canceling":ge(re,"canceled");break;case"pausing":ge(re,"paused");}})},ae=function(re){_d(re,function(se){var te=Vd(re.c,re.m,re.s,re.f,re.h);re.a=ed(re.c,te,se),re.a.a().then(function(ue){re.a=null,re.w=ue,re.v=!1,he(re)},re.o)})},be=function(re){var se=re.w;_d(re,function(te){var ue=Wd(re.c,re.m,se,re.f);re.a=ed(re.c,ue,te),re.a.a().then(function(ve){re.a=null,fe(re,ve.a),re.v=!1,ve.b&&(re.F=!0),he(re)},re.o)})},ce=function(re){var se=262144*re.l,te=new Td(re.j,re.f.a),ue=re.w;_d(re,function(ve){var we;try{we=Xd(re.m,re.c,ue,re.f,se,re.s,te,Zd(re))}catch(xe){return re.g=xe,void ge(re,"error")}re.a=ed(re.c,we,ve),re.a.a().then(function(xe){33554432>262144*re.l&&(re.l*=2),re.a=null,fe(re,xe.a),xe.b?(re.h=xe.c,ge(re,"success")):he(re)},re.o)})},de=function(re){_d(re,function(se){var te=Pd(re.c,re.m,re.s);re.a=ed(re.c,te,se),re.a.a().then(function(ue){re.a=null,re.h=ue,ge(re,"success")},re.L)})},ee=function(re){_d(re,function(se){var te=Sd(re.c,re.m,re.s,re.f,re.h);re.a=ed(re.c,te,se),re.a.a().then(function(ue){re.a=null,re.h=ue,fe(re,re.f.a),ge(re,"success")},re.o)})},fe=function(re,se){var te=re.j;re.j=se,re.j!==te&&ie(re)},ge=function(re,se){if(re.b!==se)switch(se){case"canceling":re.b=se,null!==re.a&&re.a.cancel();break;case"pausing":re.b=se,null!==re.a&&re.a.cancel();break;case"running":var te="paused"===re.b;re.b=se,te&&(ie(re),$d(re));break;case"paused":re.b=se,ie(re);break;case"canceled":re.g=dc(),re.b=se,ie(re);break;case"error":re.b=se,ie(re);break;case"success":re.b=se,ie(re);}},he=function(re){switch(re.b){case"pausing":ge(re,"paused");break;case"canceling":ge(re,"canceled");break;case"running":$d(re);}};Yd.prototype.B=function(){return new Rc(this.j,this.f.a,rc(this.b),this.h,this,this.M)},Yd.prototype.N=function(re,se,te,ue){function ve(Be){try{return void xe(Be)}catch(Ce){}try{if(ye(Be),!(Yb(Be.next)||Yb(Be.error)||Yb(Be.complete)))throw""}catch(Ce){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function we(Be){return function(Ce,De,Ee){null!==Be&&Bd("on",Be,arguments);var Fe=new Dc(Ce,De,Ee);return ze.A.push(Fe),ke(ze,Fe),function(){var Ge=ze.A,He=Ge.indexOf(Fe);-1!==He&&Ge.splice(He,1)}}}var xe=Id().a,ye=Hd(null,!0).a;Bd("on",[Ed(function(){if("state_changed"!==re)throw"Expected one of the event types: [state_changed]."}),Hd(ve,!0),Id(),Id()],arguments);var ze=this,Ae=[Hd(function(Be){if(null===Be)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";ve(Be)}),Id(),Id()];return Yb(se)||Yb(te)||Yb(ue)?we(null)(se,te,ue):we(Ae)},Yd.prototype.then=function(re,se){return this.D.then(void 0===re?null:re,void 0===se?null:se)},Yd.prototype["catch"]=function(re){return this.then(null,re)};var ie=function(re){je(re),Array.prototype.slice.call(re.A).forEach(function(se){ke(re,se)})},je=function(re){if(null!==re.u){var se=!0;switch(rc(re.b)){case"success":yc(re.u.bind(null,re.B()))();break;case"canceled":case"error":yc(re.C.bind(null,re.g))();break;default:se=!1;}se&&(re.u=null,re.C=null)}},ke=function(re,se){switch(rc(re.b)){case"running":case"paused":null!==se.b&&yc(se.b.bind(se,re.B()))();break;case"success":null!==se.a&&yc(se.a.bind(se))();break;case"canceled":case"error":null!==se.error&&yc(se.error.bind(se,re.g))();break;default:null!==se.error&&yc(se.error.bind(se,re.g))();}};Yd.prototype.R=function(){Bd("resume",[],arguments);var re="paused"===this.b||"pausing"===this.b;return re&&ge(this,"running"),re},Yd.prototype.O=function(){Bd("pause",[],arguments);var re="running"===this.b;return re&&ge(this,"pausing"),re},Yd.prototype.cancel=function(){Bd("cancel",[],arguments);var re="running"===this.b||"pausing"===this.b;return re&&ge(this,"canceling"),re};var le=function(re,se){this.a=re,this.location=se instanceof zc?se:Cc(se)};le.prototype.toString=function(){return Bd("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path};var me=function(re,se){return new le(re,se)};i=le.prototype,i.H=function(re){Bd("child",[Ed()],arguments);var se=lc(this.location.path,re);return me(this.a,new zc(this.location.bucket,se))},i.ka=function(){var re;if(re=this.location.path,0==re.length)re=null;else{var se=re.lastIndexOf("/");re=-1===se?"":re.slice(0,se)}return null===re?null:me(this.a,new zc(this.location.bucket,re))},i.ma=function(){return me(this.a,new zc(this.location.bucket,""))},i.U=function(){return this.location.bucket},i.fa=function(){return this.location.path},i.ja=function(){return mc(this.location.path)},i.oa=function(){return this.a.l},i.Z=function(re,se){return Bd("put",[Fd(),new Cd(Ad,!0)],arguments),ne(this,"put"),new Yd(this,this.a,this.location,xd(),new Jd(re),se)},i.$=function(re,se,te){Bd("putString",[Ed(),Ed(Fc,!0),new Cd(Ad,!0)],arguments),ne(this,"putString");var ue=Hc(sc(se)?se:"raw",re),ve=te?kc(te):{};return!sc(ve.contentType)&&sc(ue.a)&&(ve.contentType=ue.a),new Yd(this,this.a,this.location,xd(),new Jd(ue.data,!0),ve)},i.X=function(){Bd("delete",[],arguments),ne(this,"delete");var re=this;return dd(this.a).then(function(se){var te=Qd(re.a,re.location);return ed(re.a,te,se).a()})},i.I=function(){Bd("getMetadata",[],arguments),ne(this,"getMetadata");var re=this;return dd(this.a).then(function(se){var te=Pd(re.a,re.location,xd());return ed(re.a,te,se).a()})},i.aa=function(re){Bd("updateMetadata",[new Cd(Ad,void 0)],arguments),ne(this,"updateMetadata");var se=this;return dd(this.a).then(function(te){var ue=se.a,ve=se.location,we=re,xe=xd(),ye=Ac(ve),ye=ac+"/v0"+ye,we=zd(we,xe),ue=new oc(ye,"PATCH",Md(ue,xe),ue.c);return ue.headers={"Content-Type":"application/json; charset=utf-8"},ue.body=we,ue.a=Od(ve),ed(se.a,ue,te).a()})},i.Y=function(){return Bd("getDownloadURL",[],arguments),ne(this,"getDownloadURL"),this.I().then(function(re){if(re=re.downloadURLs[0],sc(re))return re;throw new bc("no-download-url","The given file does not have any download URLs.")})};var ne=function(re,se){if(""===re.location.path)throw new bc("invalid-root-operation","The operation '"+se+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},oe=function(re,se,te){this.a=new cd(re,function(ue,ve){return new le(ue,ve)},Yc,this,se),this.c=re,Yb(te)?this.b=Bc(te):null!=this.a.bucket()&&(this.b=new zc(this.a.bucket(),"")),this.f=new pe(this)};i=oe.prototype,i.ba=function(re){if(Bd("ref",[Ed(function(te){if(/^[A-Za-z]+:\/\//.test(te))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var se=new le(this.a,this.b);return Yb(re)?se.H(re):se},i.ca=function(re){return Bd("refFromURL",[Ed(function(se){if(!/^[A-Za-z]+:\/\//.test(se))throw"Expected full URL but got a child path, use ref instead.";try{Cc(se)}catch(te){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new le(this.a,re)},i.ha=function(){return this.a.b},i.ea=function(re){Bd("setMaxUploadRetryTime",[Gd()],arguments),this.a.b=re},i.ga=function(){return this.a.c},i.da=function(re){Bd("setMaxOperationRetryTime",[Gd()],arguments),this.a.c=re},i.T=function(){return this.c},i.P=function(){return this.f};var pe=function(re){this.a=re};pe.prototype.b=function(){var re=this.a.a;re.f=!0,re.a=null,bd(re.h)};var qe=function(re,se,te){Object.defineProperty(re,se,{get:te})};le.prototype.toString=le.prototype.toString,le.prototype.child=le.prototype.H,le.prototype.put=le.prototype.Z,le.prototype.putString=le.prototype.$,le.prototype["delete"]=le.prototype.X,le.prototype.getMetadata=le.prototype.I,le.prototype.updateMetadata=le.prototype.aa,le.prototype.getDownloadURL=le.prototype.Y,qe(le.prototype,"parent",le.prototype.ka),qe(le.prototype,"root",le.prototype.ma),qe(le.prototype,"bucket",le.prototype.U),qe(le.prototype,"fullPath",le.prototype.fa),qe(le.prototype,"name",le.prototype.ja),qe(le.prototype,"storage",le.prototype.oa),oe.prototype.ref=oe.prototype.ba,oe.prototype.refFromURL=oe.prototype.ca,qe(oe.prototype,"maxOperationRetryTime",oe.prototype.ga),oe.prototype.setMaxOperationRetryTime=oe.prototype.da,qe(oe.prototype,"maxUploadRetryTime",oe.prototype.ha),oe.prototype.setMaxUploadRetryTime=oe.prototype.ea,qe(oe.prototype,"app",oe.prototype.T),qe(oe.prototype,"INTERNAL",oe.prototype.P),pe.prototype["delete"]=pe.prototype.b,oe.prototype.capi_=function(re){ac=re},Yd.prototype.on=Yd.prototype.N,Yd.prototype.resume=Yd.prototype.R,Yd.prototype.pause=Yd.prototype.O,Yd.prototype.cancel=Yd.prototype.cancel,Yd.prototype.then=Yd.prototype.then,Yd.prototype["catch"]=Yd.prototype["catch"],qe(Yd.prototype,"snapshot",Yd.prototype.B),qe(Rc.prototype,"bytesTransferred",Rc.prototype.V),qe(Rc.prototype,"totalBytes",Rc.prototype.qa),qe(Rc.prototype,"state",Rc.prototype.na),qe(Rc.prototype,"metadata",Rc.prototype.ia),qe(Rc.prototype,"downloadURL",Rc.prototype.W),qe(Rc.prototype,"task",Rc.prototype.pa),qe(Rc.prototype,"ref",Rc.prototype.la),pc.STATE_CHANGED="state_changed",qc.RUNNING="running",qc.PAUSED="paused",qc.SUCCESS="success",qc.CANCELED="canceled",qc.ERROR="error",Ec.RAW="raw",Ec.BASE64="base64",Ec.BASE64URL="base64url",Ec.DATA_URL="data_url",function(){if("undefined"!==typeof firebase)firebase.INTERNAL.registerService("storage",function(te,ue,ve){return new oe(te,new Zc(),ve)},{TaskState:qc,TaskEvent:pc,StringFormat:Ec,Storage:oe,Reference:le},void 0,!0);else throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.")}()}).call(this);